service: web
runtime: go
api_version: go1.8

skip_files:
  - node_modules/
  - ^(.*/)?.*/test/.*$

  - ^(.*/)?#.*#$
  - ^(.*/)?.*~$
  - ^(.*/)?.*\.DS_Store$
  - ^(.*/)?.*\.py[co]$
  - ^(.*/)?.*/RCS/.*$
  - ^(.*/)?\..*$

handlers:
    - url: /admin/
      secure: always
      login: admin
      static_files: dist_admin/index.html
      upload: dist_admin/index\.html

    - url: /admin
      secure: always
      login: admin
      static_dir: dist_admin

    - url: /(.*\..*)
      secure: always
      login: admin
      static_files: dist/\1
      upload: dist/(.*\..*)

    - url: /.*
      secure: always
      login: admin
      static_files: dist/index.html
      upload: dist/index\.html

    - url: /
      secure: always
      login: admin
      static_dir: dist/
